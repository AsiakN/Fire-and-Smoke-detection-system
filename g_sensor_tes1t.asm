	ORG 00H

;
	PMP EQU P0.4
;
	GSENS EQU P1.2
	FSENS EQU P1.0
	BULB EQU P0.1
	BUZ EQU P1.3
	GRLEDFS EQU P3.5
	YLEDGS  EQU P3.6

	CLR PMP       ;
	CLR BULB
	SETB BUZ
	SETB GRLEDFS
	SETB YLEDGS
	acall delay
BEGIN:
	ACALL GAS
	ACALL FIRE
	SJMP BEGIN
	

Gas:
	MOV C,GSENS
	JNC	begin
	CLR 	YLEDGS
	SETB	GRLEDFS
	CLR	BULB
	SETB	PMP
	CLR	BUZ
	ACALL DELAY
	ret
BEGIN1:
	ACALL GAS
	ACALL FIRE
	SJMP BEGIN
		
fire:
	MOV C,FSENS
	;CLR	PMP
	;CLR	BULB
	JNC	BEGIN1
	SETB	BULB
	CLR	PMP
	CLR	GRLEDFS
	SETB	YLEDGS
	ACALL DELAY
	RET
	
DELAY:
	MOV R0,#00H	
NN2:	MOV R1, #00H
NN1:	MOV R2,	#00
HERE:	DJNZ R2, HERE
	DJNZ R1, NN1
	DJNZ R0, NN2
	RET
	END



